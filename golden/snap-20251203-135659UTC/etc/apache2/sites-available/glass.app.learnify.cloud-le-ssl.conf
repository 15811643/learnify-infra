<IfModule mod_ssl.c>
<VirtualHost *:443>
  ServerName glass.app.learnify.cloud
  # HSTS is https-only; here we just redirect to TLS
  RewriteEngine On
# Some rewrite rules in this file were disabled on your HTTPS site,
# because they have the potential to create redirection loops.

#   RewriteRule ^/(.*)$ https://glass.app.learnify.cloud/$1 [R=301,L]
  ErrorLog ${APACHE_LOG_DIR}/glass.app.learnify.cloud-error.log
  CustomLog ${APACHE_LOG_DIR}/glass.app.learnify.cloud-access.log combined

SSLCertificateFile /etc/letsencrypt/live/glass.app.learnify.cloud/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/glass.app.learnify.cloud/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
  # >>> glass-only >>>
  ProxyPreserveHost On
  ProxyPass        /glass   http://127.0.0.1:8082/glass nocanon retry=0 timeout=30
  ProxyPassReverse /glass   http://127.0.0.1:8082/glass
  ProxyPass        /legal   http://127.0.0.1:8082/legal nocanon retry=0 timeout=30
  ProxyPassReverse /legal   http://127.0.0.1:8082/legal
  ProxyPass        /privacy http://127.0.0.1:8082/privacy nocanon retry=0 timeout=30
  ProxyPassReverse /privacy http://127.0.0.1:8082/privacy
  RedirectMatch 302 ^/$ /glass/health
  # <<< glass-only <<<
</VirtualHost>
</IfModule>
